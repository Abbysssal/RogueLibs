# Targetable Items +*

import Tabs from '@site/src/components/Tabs';
import TabItem from '@site/src/components/TabItem';
import useBaseUrl from '@docusaurus/useBaseUrl';

## Making items targetable anywhere {#making-targetable-anywhere}

Just implement the `IItemTargetableAnywhere` interface in your item's class:

```csharp
// highlight-next-line
public class MyCustomItem : CustomItem, IItemTargetableAnywhere
{
    // highlight-start
    public bool TargetFilter(Vector2 position) { /*...*/ }
    public bool TargetPosition(Vector2 position) { /*...*/ }
    public CustomTooltip TargetCursorText(Vector2 position) { /*...*/ }
    // highlight-end
}
```

`TargetFilter` determines what places to highlight when using the current item.

`TargetPosition` uses the current item on the position. The return value determines whether the usage was successful.

`TargetCursorText` determines the cursor text, that will be visible under the cursor.

:::caution
`TargetFilter` does not control what positions can be passed as parameters to other methods. You need to check if the passed position is compatible inside other methods too:

```csharp
    public bool TargetPosition(Vector2 position)
    {
        // highlight-next-line
        if (!TargetFilter(position)) return false;
        // ...
    }
    public CustomTooltip TargetCursorText(Vector2 position) => null;
```
:::

## Examples {#examples}

<Tabs defaultValue="usableteleporter"
  values={[
    {label:'Usable Teleporter', value:'usableteleporter'},
  ]}>
<TabItem value="usableteleporter">

```csharp title="UsableTeleporter.cs"
[ItemCategories(RogueCategories.Usable, RogueCategories.Technology, RogueCategories.Stealth)]
public class UsableTeleporter : CustomItem, IItemTargetableAnywhere
{
    public override void SetupDetails()
    {
        Item.itemType = ItemTypes.Tool;
        Item.itemValue = 30;
        Item.initCount = 2;
        Item.rewardCount = 3;
        Item.stackable = true;
        Item.goesInToolbar = true;
    }
    public bool TargetFilter(Vector2 position)
    {
        TileData tileData = gc.tileInfo.GetTileData(position);
        return !gc.tileInfo.IsOverlapping(position, "Anything") && tileData.wallMaterial == wallMaterialType.None;
    }
    public bool TargetPosition(Vector2 position)
    {
        if (!TargetFilter(position)) return false;

        Owner.SpawnParticleEffect("Spawn", Owner.tr.position);
        Owner.Teleport(position, false, true);
        Owner.rb.velocity = Vector2.zero;
        Owner.SpawnParticleEffect("Spawn", Owner.tr.position, false);
        gc.audioHandler.Play(Owner, "Spawn");

        Count--;
        return true;
    }
    public CustomTooltip TargetCursorText(Vector2 position) => gc.nameDB.GetName("TeleportHere", "Interface");
}
```

```csharp
RogueLibs.CreateCustomItem<UsableTeleporter>()
    .WithName(new CustomNameInfo("Usable Teleporter"))
    .WithDescription(new CustomNameInfo("Teleports you somewhere. Has limited uses."))
    .WithSprite(Properties.Resources.UsableTeleporter)
    .WithUnlock(new ItemUnlock { UnlockCost = 10, CharacterCreationCost = 3, LoadoutCost = 3 });

RogueLibs.CreateCustomName("TeleportHere", "Interface", new CustomNameInfo("Teleport here"));
```

</TabItem>
</Tabs>